(this.webpackJsonpcloud_dashboard=this.webpackJsonpcloud_dashboard||[]).push([[0],{76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(20),l=a.n(r),o=a(7),i=a(10),s=a(6),u="cloud_dashboard",m="/clouds/dashboard",d=[{cloudServiceProvider:"aws_cloud",labelName:"Instance",entityName:"instance",detailInfoColumn:"name",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Public IP",name:"public_ip",type:"default"},{labelName:"Instance State",name:"instance_state",type:"default"},{labelName:"Instance Type",name:"instance_type",type:"default"},{labelName:"Availability Zone",name:"availability_zone",type:"default"},{labelName:"Cost",name:"cost",type:"cost"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Image",entityName:"image",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"AMI Name",name:"ami_name",type:"default"},{labelName:"AMI ID",name:"image_id",type:"default"},{labelName:"Status",name:"status",type:"default"},{labelName:"Source",name:"source",type:"default"},{labelName:"Root Device Type",name:"root_device_type",type:"default"},{labelName:"Visibility",name:"visibility",type:"boolean",value:["Public","Private"]},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Security Group",entityName:"security_group",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Group ID",name:"group_id",type:"default"},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}}]},{cloudServiceProvider:"aws_cloud",labelName:"Elastic IP",entityName:"elastic_ip",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Allocation ID",name:"allocation_id",type:"default"},{labelName:"Type",name:"elastic_ip_type",type:"default"},{labelName:"Elastic IP",name:"public_ip",type:"default"},{labelName:"Instance ID",name:"instance_id",type:"join",info:{entityTypeId:"aws_cloud_instance",keyColumn:"instance_id",valueColumn:"name"}},{labelName:"Private IP Address",name:"private_ip_address",type:"default"},{labelName:"Scope",name:"scope",type:"default"}]},{cloudServiceProvider:"aws_cloud",labelName:"Key Pair",entityName:"key_pair",entityColumn:[{labelName:"Key Pair Name",name:"key_pair_name",type:"default"},{labelName:"Key Fingerprint",name:"key_fingerprint",type:"default"}]},{cloudServiceProvider:"aws_cloud",labelName:"Volume",entityName:"volume",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Volume ID",name:"volume_id",type:"default"},{labelName:"IOPS",name:"iops",type:"default"},{labelName:"Size",name:"size",type:"default"},{labelName:"Availability Zone",name:"availability_zone",type:"default"},{labelName:"Volume Type",name:"volume_type",type:"default"},{labelName:"Attachment Information",name:"attachment_information",type:"join",info:{entityTypeId:"aws_cloud_instance",keyColumn:"instance_id",valueColumn:"name"}},{labelName:"State",name:"state",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Snapshot",entityName:"snapshot",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Snapshot ID",name:"snapshot_id",type:"default"},{labelName:"Encrypted",name:"encrypted",type:"default"},{labelName:"Size",name:"size",type:"default"},{labelName:"Status",name:"status",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Network Interface",entityName:"network_interface",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Subnet",name:"subnet_id",type:"join",info:{entityTypeId:"aws_cloud_subnet",keyColumn:"subnet_id",valueColumn:"name"}},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Status",name:"status",type:"default"},{labelName:"Security Groups",name:"security_groups",type:"default"},{labelName:"Primary Private IP",name:"primary_private_ip",type:"default"},{labelName:"Secondary Private IPs",name:"secondary_private_ips",type:"default"}]},{cloudServiceProvider:"aws_cloud",labelName:"VPC",entityName:"vpc",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"VPC",name:"vpc_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"IPv4 CIDR",name:"cidr_block",type:"default"},{labelName:"IPv6 CIDR",name:"ipv6_cidr_blocks",type:"array"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Subnet",entityName:"subnet",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Subnet ID",name:"subnet_id",type:"default"},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"IPv4 CIDR",name:"cidr_block",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Region Name",name:"region_name",type:"default"},{labelName:"Zone Name",name:"zone_name",type:"default"},{labelName:"Network Border Group",name:"network_border_group",type:"default"},{labelName:"Zone Type",name:"zone_type",type:"default"},{labelName:"Parent Zone Type",name:"parent_zone_type",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"VPC Peering Connection",entityName:"vpc_peering_connection",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"VPC Peering Connection ID",name:"vpc_peering_connection_id",type:"default"},{labelName:"Status",name:"status_code",type:"default"},{labelName:"Requester VPC",name:"requester_vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Accepter VPC",name:"accepter_vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Requester CIDR Blocks",name:"requester_cidr_block",type:"default"},{labelName:"Accepter CIDR Blocks",name:"accepter_cidr_block",type:"default"},{labelName:"Requester AWS Account",name:"requester_account_id",type:"default"},{labelName:"Accepter AWS Account",name:"accepter_account_id",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"aws_cloud",labelName:"Internet Gateway",entityName:"internet_gateway",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Internet Gateway ID",name:"internet_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"VPC ID",name:"vpc_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]},{cloudServiceProvider:"aws_cloud",labelName:"Career Gateway",entityName:"career_gateway",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Carrier Gateway ID",name:"carrier_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"VPC ID",name:"vpc_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]},{cloudServiceProvider:"aws_cloud",labelName:"Transit Gateway",entityName:"transit_gateway",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Transit Gateway ID",name:"transit_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Amazon Account ID",name:"account_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]}],p=[{cloudServiceProvider:"k8s",labelName:"Node",entityName:"node",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"CPU (Request)",name:"cpu_request",type:"default"},{labelName:"CPU (Limit)",name:"cpu_limit",type:"default"},{labelName:"CPU (Usage)",name:"cpu_usage",type:"default"},{labelName:"Memory (Request)",name:"memory_request",type:"memory"},{labelName:"Memory (Limit)",name:"memory_limit",type:"memory"},{labelName:"Memory (Usage)",name:"memory_usage",type:"memory"},{labelName:"Pods (Applcation)",name:"pods_allocation",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Namespace",entityName:"namespace",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Deployment",entityName:"deployment",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Pod",entityName:"pod",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Node",name:"node_name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"Restarts",name:"restarts",type:"default"},{labelName:"CPU (Usage)",name:"cpu_usage",type:"default"},{labelName:"Memory (Usage)",name:"memory_usage",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"ReplicaSet",entityName:"replica_set",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Replica",name:"replicas",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"CronJob",entityName:"cron_job",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Schedule",name:"schedule",type:"default"},{labelName:"Suspend",name:"suspend",type:"default"},{labelName:"Active",name:"active",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Job",entityName:"job",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Image",name:"image",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Service",entityName:"service",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Cluster IP",name:"cluster_ip",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Network Policy",entityName:"network_policy",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Resource Quotas",entityName:"resource_quota",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"LimitRange",entityName:"limit_range",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Priority Class",entityName:"priority_class",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Value",name:"value",type:"default"},{labelName:"Global Default",name:"global_default",type:"boolean",value:["TRUE","FALSE"]},{labelName:"Description",name:"description",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"ConfigMap",entityName:"config_map",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Secret",entityName:"secret",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Type",name:"secret_type",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Role",entityName:"role",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Role Binding",entityName:"role_binding",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Role",name:"role_ref",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Cluster Role",entityName:"cluster_role",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Cluster Role Binding",entityName:"cluster_role_binding",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Cluster Role",name:"role_ref",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Persistent Volume",entityName:"persistent_volume",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Capacity",name:"capacity",type:"default"},{labelName:"Access Modes",name:"access_modes",type:"default"},{labelName:"Reclaim Policy",name:"reclaim_policy",type:"default"},{labelName:"Status",name:"phase",type:"default"},{labelName:"Request",name:"claim_ref",type:"default"},{labelName:"Storage Class",name:"storage_class_name",type:"default"},{labelName:"Reason",name:"reason",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Persistent Volume Claim",entityName:"persistent_volume_claim",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Phase",name:"phase",type:"default"},{labelName:"VolumeName",name:"volume_name",type:"default"},{labelName:"Capacity",name:"capacity",type:"default"},{labelName:"Request",name:"request",type:"default"},{labelName:"Access Mode",name:"access_mode",type:"default"},{labelName:"Storage Class",name:"storage_class",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Storage Class",entityName:"storage_class",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Provisioner",name:"provisioner",type:"default"},{labelName:"Parameters",name:"parameters",type:"key-value"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"StatefulSet",entityName:"stateful_set",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Ingress",entityName:"ingress",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"DaemonSet",entityName:"daemon_set",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Endpoint",entityName:"endpoint",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Node",name:"node_name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Event",entityName:"event",entityColumn:[{labelName:"Type",name:"k8s_event_type",type:"default"},{labelName:"Reason",name:"reason",type:"default"},{labelName:"Object Kind",name:"object_kind",type:"default"},{labelName:"Object Name",name:"object_name",type:"default"},{labelName:"Message",name:"message",type:"default"},{labelName:"Last Time Stamp",name:"time_stamp",type:"datetime"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"API Service",entityName:"api_service",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"ServiceAccount",entityName:"service_account",entityColumn:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{cloudServiceProvider:"k8s",labelName:"Horizontal Pod Autoscaler",entityName:"horizontal_pod_autoscaler",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Scale Target",name:"scale_target",type:"default"},{labelName:"Target CPU Utilization Percentage",name:"target_cpu_utilization_percentage",type:"default"}]},{cloudServiceProvider:"k8s",labelName:"Schedule",entityName:"schedule",entityColumn:[{labelName:"Name",name:"name",type:"default"},{labelName:"Kind",name:"kind",type:"default"},{labelName:"Namespace Name",name:"namespace_name",type:"default"},{labelName:"Resource Name",name:"resource_name",type:"default"},{labelName:"Launch Template Name",name:"launch_template_name",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Start",name:"start_time",type:"default"},{labelName:"Stop",name:"stop_time",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]}],b=[{cloudServiceProvider:"aws_cloud",entityName:"instance",entityRecords:[{panelName:"Instance",tableRecordList:[],keyValueRecords:[{labelName:"Name",name:"name",type:"default"},{labelName:"Instance ID",name:"instance_id",type:"default"},{labelName:"Instance State",name:"instance_state",type:"default"},{labelName:"Instance type",name:"instance_type",type:"default"},{labelName:"Cost",name:"cost",type:"cost"},{labelName:"AMI Image",name:"image_id",type:"default"},{labelName:"Virtualization",name:"virtualization",type:"default"},{labelName:"Reservation",name:"reservation",type:"default"},{labelName:"AWS account ID",name:"account_id",type:"default"},{labelName:"Launch Time",name:"launch_time",type:"datetime"},{labelName:"Created",name:"created",type:"datetime"}]},{panelName:"Network",tableRecordList:[],keyValueRecords:[{labelName:"Public IP",name:"public_ip",type:"join",info:{entityTypeId:"aws_cloud_elastic_ip",keyColumn:"public_ip",valueColumn:"name"}},{labelName:"Private IPs",name:"private_ips",type:"default"},{labelName:"Public DNS",name:"public_dns",type:"default"},{labelName:"Security groups",name:"security_groups",type:"default"},{labelName:"VPC ID",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Subnet ID",name:"subnet_id",type:"join",info:{entityTypeId:"aws_cloud_subnet",keyColumn:"subnet_id",valueColumn:"name"}},{labelName:"Availability Zone",name:"availability_zone",type:"default"},{labelName:"Network interfaces",name:"network_interfaces",type:"array"}]},{panelName:"Storage",tableRecordList:[],keyValueRecords:[{labelName:"Root Device Type",name:"root_device_type",type:"default"},{labelName:"Root Device",name:"root_device",type:"default"},{labelName:"EBS Optimized",name:"ebs_optimized",type:"boolean",value:["On","Off"]},{labelName:"Volume",name:"block_devices",type:"default"}]},{panelName:"Tags",tableRecordList:["tags"],keyValueRecords:[{labelName:"Tags",name:"tags",type:"default"}]},{panelName:"Option",tableRecordList:[],keyValueRecords:[{labelName:"Termination protection",name:"termination_protection",type:"boolean",value:["On","Off"]},{labelName:"AMI Launch Index",name:"ami_launch_index",type:"default"},{labelName:"Tenancy",name:"tenancy",type:"default"}]}]}],f=[],j=[{cloudServiceProvider:"aws_cloud",name:"ALL",labelName:"AWS Cloud (ALL)"},{cloudServiceProvider:"k8s",name:"ALL",labelName:"K8s (ALL)"}],y=[{labelName:"Name",name:"name",type:"default"},{labelName:"AMI Name",name:"field_image_id",type:"default"},{labelName:"Instance type",name:"field_instance_type",type:"default"},{labelName:"VPC",name:"field_vpc",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Max count",name:"field_max_count",type:"default"},{labelName:"Status",name:"field_workflow_status",type:"default"}],v=[{labelName:"Name",name:"name",type:"default"},{labelName:"Namespace",name:"field_namespace",type:"default"},{labelName:"Object",name:"field_object",type:"array"},{labelName:"Enable time scheduler",name:"field_enable_time_scheduler",type:"boolean",value:["On","Off"]},{labelName:"Workflow status",name:"field_workflow_status",type:"default"}],N=[{labelName:"Name",name:"name",type:"default"},{labelName:"K8s Cluster",name:"field_k8s_clusters",type:"default"},{labelName:"Enable resource scheduler",name:"field_enable_resource_scheduler",type:"default"}],h=a(2),x=a.n(h),O=a(4),_=a(3),g=a(31),k=a(32),C=function(){function e(){Object(g.a)(this,e),this.cache={}}return Object(k.a)(e,[{key:"getJson",value:function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.cache)){e.next=5;break}if(n=this.cache[t],!((c=(new Date).getTime())>=n.unixtime&&c-n.unixtime<864e5)){e.next=5;break}return e.abrupt("return",n.response);case 5:return e.next=7,fetch(t,a);case 7:return e.next=9,e.sent.json();case 9:return r=e.sent,l=(new Date).getTime(),this.cache[t]={response:r,unixtime:l},e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance}}]),e}();C.instance=new C;var S=C,w=a(82),I=function(){var e=Object(n.useState)(function(){var e=localStorage.getItem("cloudContext");return null!==e?JSON.parse(e):j[0]}()),t=Object(_.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(Object(o.a)(j)),l=Object(_.a)(r,2),i=l[0],s=l[1],u=Object(w.a)().i18n;Object(n.useEffect)((function(){var e=window.localStorage.getItem("languageName");null!==e&&u.changeLanguage(e)}),[]),Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var t,n,r,l,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=["aws_cloud","k8s"],n=Object(o.a)(j),r=x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i[l],e.next=3,S.getInstance().getJson("/jsonapi/cloud_config/".concat(t));case 3:a=e.sent.data.map((function(e){return{cloudServiceProvider:t,name:e.attributes.cloud_context,labelName:e.attributes.name}})),n=[].concat(Object(o.a)(n),Object(o.a)(a));case 5:case"end":return e.stop()}}),e)})),l=0,i=t;case 4:if(!(l<i.length)){e.next=9;break}return e.delegateYield(r(),"t0",6);case 6:l++,e.next=4;break;case 9:s(n),0===n.filter((function(e){return e.cloudServiceProvider===a.cloudServiceProvider&&e.name===a.name})).length&&c(j[0]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return{cloudContext:a,cloudContextList:i,dispatch:function(e){switch(e.type){case"setCloudContext":localStorage.setItem("cloudContext",JSON.stringify(e.message)),c(e.message);break;case"setLanguage":u.changeLanguage(e.message),window.localStorage.setItem("languageName",e.message)}}}},P=Object(n.createContext)({cloudContext:j[0],cloudContextList:[],dispatch:function(){}}),L=a(12),A=a(13),T=a.n(A),R=function(e,t){return"000000".concat(e).slice(-t)},D=function(e,t){for(var a=1,n=0;n<t;n+=1)a*=10;if(Math.floor(e)!==e)return"".concat(Math.round(e*a)/a);var c="".concat(e);if(0!==t){c+=".";for(var r=0;r<t;r+=1)c+="0"}return c},E=function(e,t,a){if(null===e)return"";switch(t.type){case"datetime":return function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,c=t.getDate(),r=t.getHours(),l=t.getMinutes(),o="".concat(a,"/").concat(R(n,2),"/").concat(R(c,2));return o+" - ".concat(R(r,2),":").concat(R(l,2))}(e);case"cpu":return D(e,2);case"memory":return e>=1073741824?"".concat(D(e/1073741824,2),"Gi"):e>=1048576?"".concat(D(e/1048576,2),"Mi"):e>=1024?"".concat(D(e/1024,2),"Ki"):D(e,2);case"key-value":var n,c=[],r=Object(L.a)(e);try{for(r.s();!(n=r.n()).done;){var l=n.value;c.push("".concat(l.item_key,":").concat(l.item_value))}}catch(u){r.e(u)}finally{r.f()}return c.join(", ");case"cost":return"$".concat(e);case"boolean":return e?t.value[0]:t.value[1];case"array":return e.map((function(e){return"".concat(e)})).join(", ");case"join":var o,i=Object(L.a)(a[t.info.entityTypeId]);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.attributes[t.info.keyColumn]===e)return s.attributes[t.info.valueColumn]}}catch(u){i.e(u)}finally{i.f()}return"".concat(e);case"key-value-crlf":return function(e){var t,a=e.split("\n"),n={"on_demand_hourly: ":"On-demand Hourly ($): ","on_demand_daily: ":"On-demand Daily ($): ","on_demand_monthly: ":"On-demand Monthly ($): ","on_demand_yearly: ":"On-demand Yearly ($): ","ri_one_year: ":"RI 1 Year ($): ","ri_three_year: ":"RI 3 Year ($): ","cpu: ":"CPU (Usage): ","memory: !!float ":"Memory (Usage): ","memory: ":"Memory (Usage): ","pod_allocation: ":"Pods (Allocation): ","cpu_capacity: !!float ":"CPU (Capacity): ","memory_capacity: !!float ":"Memory (Capacity): ","pod_capacity: ":"Pods (Capacity): "},c=[],r=Object(L.a)(a);try{for(r.s();!(t=r.n()).done;){var l=t.value;if(""!==l){var o=l;for(var i in n)if(l.includes(i)){var s=l.replace(i,""),m=parseFloat(s);o=i.includes("!!float")||i.includes("memory: ")?m>=1073741824?"".concat(n[i]).concat(D(m/1073741824,2),"Gi"):m>=1048576?"".concat(n[i]).concat(D(m/1048576,2),"Mi"):m>=1024?"".concat(n[i]).concat(D(m/1024,2),"Ki"):"".concat(n[i]).concat(D(m,2)):n[i].includes("Pods ")?n[i]+s:n[i]+D(m,2);break}c.push(o)}}}catch(u){r.e(u)}finally{r.f()}return c.sort((function(e,t){return e<t?-1:e>t?1:0})).join("\n")}(e);default:return e}},U=function(e){return"/".concat(e.cloudServiceProvider,"/").concat(e.entityName)},V=function(e){return"".concat(e.cloudServiceProvider,"_").concat(e.entityName)},z=function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r,l,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in(n=[]).push({key:"page[limit]",value:"".concat(a.limit)}),n.push({key:"page[offset]",value:"".concat(a.offset)}),a.filter)n.push({key:"filter[".concat(c,"]"),value:a.filter[c]});return""!==a.sort.key&&n.push("ASC"===a.sort.direction?{key:"sort",value:a.sort.key}:{key:"sort",value:"-"+a.sort.key}),r="/jsonapi/".concat(t,"/").concat(t),n.length>0&&(r+="?"+n.map((function(e){return e.key+"="+e.value})).join("&")),null!==(l=window.localStorage.getItem("jsonapiServerUri"))&&(r=l+r),e.next=11,S.getInstance().getJson(r);case 11:return o=e.sent,e.abrupt("return",o.data);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),F=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l,i,s,u,m=arguments;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(c in a=m.length>1&&void 0!==m[1]?m[1]:{},n=[],a)n.push({key:"filter[".concat(c,"]"),value:a[c]});r="/jsonapi/".concat(t,"/").concat(t),n.length>0&&(r+="?"+n.map((function(e){return e.key+"="+e.value})).join("&")),null!==(l=window.localStorage.getItem("jsonapiServerUri"))&&(r=l+r),i=[],s=S.getInstance();case 9:return e.next=12,s.getJson(r);case 12:if(u=e.sent,i=[].concat(Object(o.a)(i),Object(o.a)(u.data)),void 0===u.links.next){e.next=18;break}r=u.links.next.href,e.next=19;break;case 18:return e.abrupt("break",21);case 19:e.next=9;break;case 21:return e.abrupt("return",i);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return"ALL"===e.name?"/".concat(e.cloudServiceProvider,"/server_template"):"/server_template/".concat(e.cloudServiceProvider,"/").concat(e.name)},J=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=Object(L.a)(t),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=16;break}if("join"===(r=c.value).type){e.next=8;break}return e.abrupt("continue",14);case 8:if(!((l=r.info.entityTypeId)in a)){e.next=11;break}return e.abrupt("continue",14);case 11:return e.next=13,F(l);case 13:a[l]=e.sent;case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),n.e(e.t0);case 21:return e.prev=21,n.f(),e.finish(21);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,null,[[2,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),K=function(e,t,a,n){var c,r=[],l=Object(L.a)(e);try{for(l.s();!(c=l.n()).done;){var o,i=c.value,s={id:i.id,value:{}},u=Object(L.a)(t);try{var m=function(){var e=o.value,t=i.attributes[e.name];if("cloud_context"!==e.name)return s.value[e.name]=E(t,e,n),"continue";var c=a.filter((function(e){return"ALL"!==e.name&&e.name===t}));s.value[e.name]=c.length>=1?c[0].labelName:t};for(u.s();!(o=u.n()).done;)m()}catch(d){u.e(d)}finally{u.f()}r.push(s)}}catch(d){l.e(d)}finally{l.f()}return r},G=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/clouds/cloud_config_location",null!==(a=window.localStorage.getItem("jsonapiServerUri"))&&(t=a+t),n=S.getInstance(),e.next=6,n.getJson(t);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(e,t){var a,n={},c=Object(L.a)(e);try{var r=function(){var e=a.value,c="".concat(e.Latitude,",").concat(e.Longitude);c in n?n[c].icon=new T.a.Icon({iconUrl:t}):n[c]={icon:new T.a.Icon({iconUrl:e.Items[0].Image}),cloudServiceProvider:e.Type,position:[parseFloat(e.Latitude),parseFloat(e.Longitude)],item:[]};var r=e.Items.map((function(t){return{iconUrl:t.Image,entityViewUrl:"aws_cloud"===e.Type?"/aws_cloud/instance":"/k8s/node",name:t.Name,positionLabel:"".concat(e.City,", ").concat(e.Country)}}));n[c].item=[].concat(Object(o.a)(n[c].item),Object(o.a)(r))};for(c.s();!(a=c.n()).done;)r()}catch(l){c.e(l)}finally{c.f()}return Object.values(n)},Y=function(){var e=Object(O.a)(x.a.mark((function e(t,a,n){var c,r,l,o,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=new FormData).append("grant_type","authorization_code"),c.append("client_id",a),c.append("client_secret",u),c.append("code",t),c.append("redirect_uri",n),e.next=8,fetch("/oauth/token",{method:"POST",body:c});case 8:if((r=e.sent).ok){e.next=11;break}throw new Error("Authorization failed");case 11:return e.next=13,r.json();case 13:if(!("access_token"in(l=e.sent))){e.next=23;break}o=l.access_token,i=l.refresh_token,s=(new Date).getTime()+1e3*l.expires_in,window.localStorage.setItem("accessToken",o),window.localStorage.setItem("refreshToken",i),window.localStorage.setItem("expiresDatetime","".concat(s)),e.next=24;break;case 23:throw new Error("Authorization failed");case 24:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),B=function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r,l,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("grant_type","refresh_token"),n.append("client_id",t),n.append("client_secret",u),n.append("refresh_token",a),e.next=7,fetch("/oauth/token",{method:"POST",body:n});case 7:if((c=e.sent).ok){e.next=10;break}throw new Error("Refresh failed");case 10:return e.next=12,c.json();case 12:if(!("access_token"in(r=e.sent))){e.next=22;break}l=r.access_token,o=r.refresh_token,i=(new Date).getTime()+1e3*r.expires_in,window.localStorage.setItem("accessToken",l),window.localStorage.setItem("refreshToken",o),window.localStorage.setItem("expiresDatetime","".concat(i)),e.next=23;break;case 22:throw new Error("Refresh failed");case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window.localStorage.getItem("accessToken"),a=window.localStorage.getItem("expiresDatetime"),null!==t&&null!=a){e.next=5;break}return window.location.href=m,e.abrupt("return");case 5:return console.group("Authorization Code Grant"),e.next=8,fetch("/clouds/cloud_dashboard/config/client_id");case 8:if(n=e.sent,c=window.localStorage.getItem("refreshToken"),n.ok&&null!==c){e.next=16;break}return console.log("Client ID : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=m,e.abrupt("return");case 16:return e.next=18,n.json();case 18:if(r=e.sent.id,console.log("Client ID : Yes"),!((new Date).getTime()<=parseInt(a,10))){e.next=25;break}return console.log("Token expired : No"),console.groupEnd(),e.abrupt("return");case 25:console.log("Token expired : Yes"),B(r,c).then((function(){console.log("Access token : Yes"),console.groupEnd()})).catch((function(){console.log("Access token : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=m}));case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(e){return"ALL"===e.name?"/".concat(e.cloudServiceProvider,"/project"):"/project/".concat(e.name)},$=a(36),W=a.n($),Q=a(0),X=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.group("Authorization Code Grant"),e.next=3,fetch("/clouds/cloud_dashboard/config/client_id");case 3:return t=e.sent,e.next=6,fetch("/clouds/cloud_dashboard/config/callback_uri");case 6:if(a=e.sent,t.ok&&a.ok){e.next=13;break}return console.log("Client ID : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=m,e.abrupt("return");case 13:return e.next=15,t.json();case 15:return n=e.sent.id,e.next=18,a.json();case 18:if(c=e.sent.uri,console.log("Client ID : Yes"),r=new URL(window.location.href).searchParams,null!==(l=r.get("code"))){e.next=28;break}return console.log("Authorization code : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=m,e.abrupt("return");case 28:return console.log("authorization code : Yes"),e.prev=29,e.next=32,Y(l,n,c);case 32:console.log("Access token : Yes"),console.groupEnd(),window.location.href=m+"/aws_cloud/instance",e.next=43;break;case 37:e.prev=37,e.t0=e.catch(29),console.log("Access token : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=m;case 43:case"end":return e.stop()}}),e,null,[[29,37]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){return Object(n.useEffect)((function(){X()}),[]),Object(Q.jsx)("form",{children:Object(Q.jsxs)("div",{style:{display:"flex"},children:[Object(Q.jsx)(W.a,{type:"Grid",color:"#00BFFF",height:"3rem",width:"3rem"}),Object(Q.jsx)("span",{style:{fontSize:"2rem",marginLeft:"2rem"},children:"Orchestrating clouds..."})]})})},te=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsx)(ee,{})})})})},ae=function(e){var t=e.to,a=e.onClick,n=e.className,c=e.children;return Object(Q.jsx)("li",{className:n,children:Object(Q.jsx)(i.b,{to:t,onClick:a,children:c})})},ne=function(e){var t=e.href,a=e.className,n=e.children;return Object(Q.jsx)("li",{className:a,children:Object(Q.jsx)("a",{href:t,children:n})})},ce=function(e){var t=e.menuName,a=e.linkPropsList;return Object(Q.jsxs)("li",{className:"dropdown",children:[Object(Q.jsxs)("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown",children:["".concat(t)," ",Object(Q.jsx)("span",{className:"caret"})]}),Object(Q.jsx)("ul",{className:"dropdown-menu",role:"menu",children:a.map((function(e,t){return Object(Q.jsx)(ae,{to:e.to,onClick:e.onClick,children:e.children},t)}))})]})},re=function(){var e=Object(n.useContext)(P),t=e.cloudContext,a=e.cloudContextList,c=e.dispatch,r=Object(w.a)().t;Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:if(null!==window.localStorage.getItem("jsonapiServerUri")){e.next=12;break}return e.next=5,fetch("/clouds/cloud_dashboard/config/jsonapi_server_uri");case 5:if(!(t=e.sent).ok){e.next=12;break}return e.t0=window.localStorage,e.next=10,t.json();case 10:e.t1=e.sent.uri,e.t0.setItem.call(e.t0,"jsonapiServerUri",e.t1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=function(e){c({type:"setCloudContext",message:e})};return Object(Q.jsx)("header",{className:"navbar navbar-default navbar-fixed-top",role:"banner",children:Object(Q.jsxs)("div",{className:"container-fluid",children:[Object(Q.jsxs)("div",{className:"navbar-header",children:[Object(Q.jsx)("div",{className:"region region-navigation",children:Object(Q.jsx)("a",{className:"logo navbar-btn pull-left",href:"/",title:r("Home"),rel:"home",children:Object(Q.jsx)("img",{src:"/themes/contrib/bootstrap_cloud/logo.svg",alt:r("Home")})})}),Object(Q.jsxs)("button",{type:"button",className:"navbar-toggle","data-toggle":"collapse","data-target":"#navbar-collapse",children:[Object(Q.jsx)("span",{className:"sr-only",children:"Toggle navigation"}),Object(Q.jsx)("span",{className:"icon-bar"}),Object(Q.jsx)("span",{className:"icon-bar"}),Object(Q.jsx)("span",{className:"icon-bar"})]})]}),Object(Q.jsx)("div",{className:"navbar-collapse collapse",children:Object(Q.jsxs)("div",{className:"region region-navigation-collapsible",children:[Object(Q.jsxs)("nav",{role:"navigation",className:"contextual-region",children:[Object(Q.jsx)("h2",{className:"sr-only",children:"Main navigation"}),Object(Q.jsxs)("ul",{className:"nav navbar-nav",role:"menu",children:[Object(Q.jsx)(ae,{to:"/providers",children:r("Home")}),Object(Q.jsx)(ce,{menuName:t.labelName,linkPropsList:a.map((function(e){var t="aws_cloud"===e.cloudServiceProvider?d:p;return{to:U(t[0]),onClick:function(){return l(e)},children:e.labelName}}))}),Object(Q.jsx)(ce,{menuName:"Launch template",linkPropsList:a.map((function(e){return{to:M(e),onClick:function(){return l(e)},children:e.labelName}}))}),Object(Q.jsx)(ce,{menuName:"Project",linkPropsList:a.filter((function(e){return"k8s"===e.cloudServiceProvider})).map((function(e){return{to:Z(e),onClick:function(){return l(e)},children:e.labelName}}))}),Object(Q.jsx)(ce,{menuName:"Resource",linkPropsList:[{to:"/k8s_cost_store",children:"K8s cost store"},{to:"/k8s_namespace_resource_store",children:"K8s namespace resource store"},{to:"/k8s_node_resource_store",children:"K8s node resource store"},{to:"/k8s_pod_resource_store",children:"K8s pod resource store"}]}),Object(Q.jsx)(ne,{href:"/admin/structure/cloud_config",children:r("CloudConfig")})]})]}),Object(Q.jsxs)("nav",{role:"navigation",className:"contextual-region",children:[Object(Q.jsx)("h2",{className:"sr-only",children:"User account menu"}),Object(Q.jsxs)("ul",{className:"menu menu--account nav navbar-nav navbar-right",children:[Object(Q.jsx)(ne,{className:"first",href:"/user",children:r("User")}),Object(Q.jsx)(ae,{className:"last",to:"/",onClick:function(){window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("refreshToken"),window.localStorage.removeItem("expiresDatetime")},children:r("Logout")})]})]})]})})]})})},le=function(e){var t=e.titleKey,a=e.title;return Object(Q.jsx)("div",{className:"panel-heading",children:Object(Q.jsx)("a",{"aria-controls":t,"aria-expanded":"true","aria-pressed":"true","data-toggle":"collapse",role:"button",className:"panel-title",href:"#".concat(t),children:a})})},oe=function(e){var t=e.record;return"div"!==t.type?Object(Q.jsx)(Q.Fragment,{}):Object(Q.jsxs)("div",{className:"field field--name-name field--type-string field--label-inline",children:[Object(Q.jsx)("div",{className:"field--label",children:t.key}),Object(Q.jsx)("div",{className:"field--item",children:t.value.includes("\n")?Object(Q.jsx)("pre",{children:t.value}):Object(Q.jsx)(Q.Fragment,{children:t.value})})]})},ie=function(e){var t=e.record;return"table"!==t.type?Object(Q.jsx)(Q.Fragment,{}):Object(Q.jsxs)("div",{className:"field field--name-tags field--type-key-value field--label-above",children:[Object(Q.jsx)("div",{className:"field--label",children:t.title}),Object(Q.jsx)("div",{className:"field--items",children:Object(Q.jsx)("div",{className:"field--item",children:Object(Q.jsx)("div",{className:"table-responsive",children:Object(Q.jsxs)("table",{"data-striping":"1",className:"table table-hover table-striped",children:[Object(Q.jsx)("thead",{children:Object(Q.jsxs)("tr",{children:[Object(Q.jsx)("th",{children:"Key"}),Object(Q.jsx)("th",{children:"Value"})]})}),Object(Q.jsx)("tbody",{children:Object.entries(t.record).map((function(e,t){return Object(Q.jsxs)("tr",{className:t%2===0?"odd":"even",children:[Object(Q.jsx)("td",{children:e[0]}),Object(Q.jsx)("td",{children:e[1].includes("\n")?Object(Q.jsx)("pre",{children:e[1]}):Object(Q.jsx)(Q.Fragment,{children:e[1]})})]})}))})]})})})})]})},se=function(e){var t=e.index,a=e.panelData,n=0===t?"bootstrap-panel--content":"bootstrap-panel--".concat(t+2,"--content");return Object(Q.jsxs)("div",{className:"js-form-wrapper form-wrapper form-item js-form-item panel panel-default",id:"bootstrap-panel",children:[Object(Q.jsx)(le,{titleKey:n,title:a.title}),Object(Q.jsx)("div",{id:n,className:"panel-body panel-collapse collapse fade in",children:a.records.map((function(e){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(oe,{record:e}),Object(Q.jsx)(ie,{record:e})]})}))})]})},ue=function(e){var t=e.entityInfoTemplate,a=Object(n.useState)({id:"",attributes:{}}),c=Object(_.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)([]),i=Object(_.a)(o,2),u=i[0],m=i[1],d=Object(s.g)().uuid;return Object(n.useEffect)((function(){if("undefined"!==typeof d){var e="".concat(t.cloudServiceProvider,"_").concat(t.entityName),a="/jsonapi/".concat(e,"/").concat(e,"/").concat(d);S.getInstance().getJson(a).then((function(e){l(e.data)}))}}),[d]),Object(n.useEffect)((function(){var e=function(){var e=Object(O.a)(x.a.mark((function e(){var a,n,c,l,o,i,s,u,d,p,b,f,j,y,v;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],n=Object(L.a)(t.entityRecords),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=15;break}return l=c.value,o={title:l.panelName,records:[]},e.next=9,J(l.keyValueRecords);case 9:i=e.sent,s=Object(L.a)(l.keyValueRecords);try{for(s.s();!(u=s.n()).done;)if(d=u.value,l.tableRecordList.includes(d.name)){p={},b=Object(L.a)(r.attributes[d.name]);try{for(b.s();!(f=b.n()).done;)j=f.value,p[j.item_key]=j.item_value}catch(N){b.e(N)}finally{b.f()}o.records.push({type:"table",title:d.labelName,record:p})}else y=E(r.attributes[d.name],d,i),v="join"===d.type&&y!==r.attributes[d.name]?"".concat(y," (").concat(r.attributes[d.name],")"):y,o.records.push({type:"div",key:d.labelName,value:v})}catch(N){s.e(N)}finally{s.f()}a.push(o);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:m(a);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})));return function(){return e.apply(this,arguments)}}();""!==r.id&&e()}),[r]),Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),u.map((function(e,t){return Object(Q.jsx)(se,{index:t,panelData:e},t)}))]})})})},me=function(e){var t=e.value,a=e.setvalue,n=e.dataList,c=Object(w.a)().t;return Object(Q.jsxs)("select",{className:"form-select form-control",value:t,onChange:function(e){a(e.currentTarget.value)},children:[Object(Q.jsxs)("option",{value:"",children:["- ",c("All")," -"]}),n.map((function(e){return Object(Q.jsx)("option",{value:e,children:e},e)}))]})},de=function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},"ALL"!==t.name&&(n.cloud_context=t.name),c="".concat(t.cloudServiceProvider,"_").concat(a),e.next=5,F(c,n);case 5:return r=e.sent,e.abrupt("return",r.map((function(e){return e.attributes.name})));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),pe=function(e){var t=e.columnKey,a=e.columnName,c=e.setColumnName,r=Object(n.useContext)(P).cloudContext,l=Object(n.useState)([]),o=Object(_.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){de(r,t).then((function(e){s(e)}))}),[r]),Object(Q.jsx)(me,{value:a,dataList:i,setvalue:function(e){c(e)}})},be=function(e){var t=e.children;return Object(Q.jsx)("label",{className:"control-label",children:t})},fe=function(){var e=Object(O.a)(x.a.mark((function e(t,a,n,c){var r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="ALL"===t.name?"/cloud_dashboard/".concat(t.cloudServiceProvider,"/").concat(a,"/entity/count"):"/cloud_dashboard/".concat(t.cloudServiceProvider,"/").concat(t.name,"/").concat(a,"/entity/count"),""!==n&&(r+="?namespace=".concat(n)),""!==c&&(r+="?namespace_name=".concat(c)),null!==(l=window.localStorage.getItem("jsonapiServerUri"))&&(r=l+r),e.next=7,S.getInstance().getJson(r);case 7:return e.abrupt("return",e.sent.count);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}(),je=function(e){var t=e.entityTypeId,a=e.namespace,c=e.namespaceName,r=e.itemCount,l=e.setItemCount,o=Object(n.useContext)(P).cloudContext,i=Object(w.a)().t;return Object(n.useEffect)((function(){fe(o,t,a,c).then((function(e){l(e)}))}),[o,a,c]),Object(Q.jsxs)(be,{children:[i("ItemCount"),": ",r]})},ye=function(e){var t=e.ariaLabel,a=e.onClick,n=e.children;return Object(Q.jsx)("span",{"aria-label":t,onClick:a,children:Object(Q.jsx)("span",{"aria-hidden":"true",children:n})})},ve=function(e){var t=e.pageIndex,a=e.setPageIndex,n=e.itemCount,c=Math.floor(1*(n+30-1)/30),r=0===t,l=0===n||t===c-1;return c<=1?Object(Q.jsx)(Q.Fragment,{}):Object(Q.jsx)("nav",{className:"pager-nav text-center",role:"navigation","aria-labelledby":"pagination-heading",children:Object(Q.jsxs)("ul",{className:"pagination",children:[Object(Q.jsx)("li",{className:r?"disabled":"",children:Object(Q.jsx)(ye,{ariaLabel:"First",onClick:function(){a(0)},children:Object(Q.jsx)("span",{className:"glyphicon glyphicon-step-backward","aria-hidden":"true"})})}),Object(Q.jsx)("li",{className:r?"disabled":"",children:Object(Q.jsx)(ye,{ariaLabel:"Previous",onClick:function(){a(Math.max(0,t-1))},children:Object(Q.jsx)("span",{className:"glyphicon glyphicon-triangle-left","aria-hidden":"true"})})}),Object(Q.jsx)("li",{children:Object(Q.jsx)("span",{children:t+1})}),Object(Q.jsx)("li",{className:l?"disabled":"",children:Object(Q.jsx)(ye,{ariaLabel:"Next",onClick:function(){a(Math.min(t+1,c-1))},children:Object(Q.jsx)("span",{className:"glyphicon glyphicon-triangle-right","aria-hidden":"true"})})}),Object(Q.jsx)("li",{className:l?"disabled":"",children:Object(Q.jsx)(ye,{ariaLabel:"Last",onClick:function(){a(c-1)},children:Object(Q.jsx)("span",{className:"glyphicon glyphicon-step-forward","aria-hidden":"true"})})})]})})},Ne=function(e){var t=e.direction,a="ASC"===t?"glyphicon-chevron-up":"glyphicon-chevron-down",n="ASC"===t?"descending":"ascending";return Object(Q.jsx)("span",{className:"icon glyphicon ".concat(a," icon-after"),"aria-hidden":"true","data-toggle":"tooltip","data-placement":"bottom",title:"","data-original-title":"Sort by ".concat(n," order")})},he=function(e){var t=e.dataColumn,a=e.sortInfo,n=e.setSortInfo,c=function(e){a.key===e?"ASC"!==a.direction?n({key:"",direction:"ASC"}):n({key:e,direction:"DESC"}):n({key:e,direction:"ASC"})};return a.key!==t.key?Object(Q.jsx)("th",{onClick:function(){c(t.key)},children:t.label},t.key):Object(Q.jsxs)("th",{className:"is-active",onClick:function(){c(t.key)},children:[t.label,Object(Q.jsx)("a",{href:"#",onClick:function(e){e.preventDefault()},children:Object(Q.jsx)(Ne,{direction:a.direction})})]},t.key)},xe=function(e){var t=e.text,a=e.link,n="string"===typeof t&&t.includes("\n")?t.split("\n"):["".concat(t)];return"string"===typeof a?Object(Q.jsx)(i.b,{to:a,children:n.map((function(e,t){return 0===t?Object(Q.jsx)("span",{children:e},t):Object(Q.jsxs)("span",{children:[Object(Q.jsx)("br",{}),e]},t)}))}):Object(Q.jsx)(Q.Fragment,{children:n.map((function(e,t){return 0===t?Object(Q.jsx)("span",{children:e},t):Object(Q.jsxs)("span",{children:[Object(Q.jsx)("br",{}),e]},t)}))})},Oe=function(e){var t=e.dataRecord,a=e.dataColumnList,n=e.className,c=e.detailInfo;return Object(Q.jsx)("tr",{className:n,children:a.map((function(e){return Object(Q.jsx)("td",{children:Object(Q.jsx)(xe,{text:e.key in t.value?t.value[e.key]:"",link:e.key===(null===c||void 0===c?void 0:c.column)?"".concat(c.path,"/").concat(t.id):void 0})},e.key)}))},t.id)},_e=function(e){var t=e.dataColumnList,a=e.dataRecordList,n=e.sortInfo,c=e.setSortInfo,r=e.detailInfo;return Object(Q.jsx)("div",{className:"table-responsive",children:Object(Q.jsxs)("table",{className:"responsive-enabled table table-hover table-striped",children:[Object(Q.jsx)("thead",{children:Object(Q.jsx)("tr",{children:t.map((function(e){return Object(Q.jsx)(he,{dataColumn:e,sortInfo:n,setSortInfo:c})}))})}),Object(Q.jsx)("tbody",{children:a.map((function(e,a){return Object(Q.jsx)(Oe,{dataRecord:e,dataColumnList:t,className:a%2===0?"odd":"even",detailInfo:r})}))})]})})},ge=function(e){var t=e.entityTypeId,a=e.entityColumnList,c=e.namespace,r=e.namespaceName,l=e.pageIndex,o=e.detailInfo,i=Object(n.useContext)(P),s=i.cloudContext,u=i.cloudContextList,m=Object(n.useState)([]),d=Object(_.a)(m,2),p=d[0],b=d[1],f=Object(n.useState)([]),j=Object(_.a)(f,2),y=j[0],v=j[1],N=Object(n.useState)({key:"",direction:"ASC"}),h=Object(_.a)(N,2),g=h[0],k=h[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var n,o,i,m,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.map((function(e){return{key:e.name,label:e.labelName}})),b(n),e.next=4,J(a);case 4:return o=e.sent,i={},""!==c&&(i.namespace=c),""!==r&&(i.namespaceName=r),"ALL"!==s.name&&(i.cloud_context=s.name),m={limit:30,offset:30*l,filter:i,sort:g},e.next=12,z(t,m);case 12:d=e.sent,v(K(d,a,u,o));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u,t,a,g,c,r,l]),Object(Q.jsx)(_e,{dataColumnList:p,dataRecordList:y,sortInfo:g,setSortInfo:k,detailInfo:o})},ke=function(e){var t=e.isActive,a=e.location,n=e.children;return Object(Q.jsx)("li",{className:t?"active":"",children:Object(Q.jsx)(i.b,{to:a,className:t?"is-active":"",children:n})})},Ce=function(e){var t=e.tabColumnList;return Object(Q.jsx)("nav",{className:"tabs",role:"navigation","aria-label":"Tabs",children:Object(Q.jsx)("ul",{className:"tabs--primary nav nav-tabs",children:t.map((function(e,t){return Object(Q.jsx)(ke,{isActive:e.isActive,location:e.location,children:e.children},t)}))})})},Se=function(e){var t=e.menuType,a=e.menuName,c=Object(n.useContext)(P).cloudContext,r=Object(s.f)();Object(n.useEffect)((function(){if(c.cloudServiceProvider!==t)switch(c.cloudServiceProvider){case"aws_cloud":r.push(U(d[0]));break;case"k8s":r.push(U(p[0]))}}),[c]);var l=("aws_cloud"===t?d:p).map((function(e){return{isActive:e.labelName===a,location:U(e),children:e.labelName}}));return Object(Q.jsx)(Ce,{tabColumnList:l})},we=function(e){var t=e.menuTemplate,a=Object(n.useState)(""),c=Object(_.a)(a,2),r=c[0],l=c[1],o=Object(n.useState)(""),i=Object(_.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(0),d=Object(_.a)(m,2),p=d[0],b=d[1],f=Object(n.useState)(0),j=Object(_.a)(f,2),y=j[0],v=j[1],N=V(t);Object(n.useEffect)((function(){""!==r&&u("")}),[r]),Object(n.useEffect)((function(){""!==s&&l("")}),[s]),Object(n.useEffect)((function(){window.scrollBy(0,-window.pageYOffset)}),[y]);var h=t.entityColumn.map((function(e){return e.labelName})).includes("Namespace"),x=t.entityColumn.map((function(e){return e.labelName})).includes("Namespace Name");return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(Se,{menuType:t.cloudServiceProvider,menuName:t.labelName}),Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsxs)("form",{children:[h?Object(Q.jsxs)("div",{className:"form-group",style:{marginTop:"2rem"},children:[Object(Q.jsx)(be,{children:"Namespace"}),Object(Q.jsx)(pe,{columnKey:"namespace",columnName:r,setColumnName:l})]}):Object(Q.jsx)(Q.Fragment,{}),x?Object(Q.jsxs)("div",{className:"form-group",style:{marginTop:"2rem"},children:[Object(Q.jsx)(be,{children:"Namespace Name"}),Object(Q.jsx)(pe,{columnKey:"namespace_name",columnName:s,setColumnName:u})]}):Object(Q.jsx)(Q.Fragment,{}),Object(Q.jsx)("div",{className:"form-group",style:{marginTop:"2rem"},children:Object(Q.jsx)(je,{entityTypeId:N,namespace:r,namespaceName:s,itemCount:p,setItemCount:b})})]})})})}),Object(Q.jsx)(ve,{pageIndex:y,setPageIndex:v,itemCount:p}),Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsx)("form",{children:Object(Q.jsx)(ge,{entityTypeId:N,entityColumnList:t.entityColumn,namespace:r,namespaceName:s,pageIndex:y,detailInfo:"undefined"!==typeof t.detailInfoColumn?{column:t.detailInfoColumn,path:U(t)}:void 0})})})})}),Object(Q.jsx)(ve,{pageIndex:y,setPageIndex:v,itemCount:p})]})},Ie=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],""!==t.key&&a.push("ASC"===t.direction?{key:"sort",value:t.key}:{key:"sort",value:"-"+t.key}),n="/jsonapi/cloud_store/k8s_cost_store",a.length>0&&(n+="?"+a.map((function(e){return e.key+"="+e.value})).join("&")),null!==(c=window.localStorage.getItem("jsonapiServerUri"))&&(n=c+n),r=S.getInstance(),e.next=9,r.getJson(n);case 9:return l=e.sent,e.abrupt("return",l.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(n.useContext)(P).cloudContextList,t=Object(n.useState)([]),a=Object(_.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),o=Object(_.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)({key:"",direction:"ASC"}),m=Object(_.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(x.a.mark((function t(){var a,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(a=[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"},{labelName:"Cloud context",name:"cloud_context",type:"default"},{labelName:"Resources",name:"field_resources",type:"key-value-crlf"}]).map((function(e){return{key:e.name,label:e.labelName}})),r(n),t.next=5,Ie(d);case 5:c=t.sent,s(K(c,a,e,{}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,d]),Object(Q.jsx)(_e,{dataColumnList:c,dataRecordList:i,sortInfo:d,setSortInfo:p})},Le=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(Pe,{})]})})})},Ae=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],""!==t.key&&a.push("ASC"===t.direction?{key:"sort",value:t.key}:{key:"sort",value:"-"+t.key}),n="/jsonapi/cloud_store/k8s_namespace_resource_store",a.length>0&&(n+="?"+a.map((function(e){return e.key+"="+e.value})).join("&")),null!==(c=window.localStorage.getItem("jsonapiServerUri"))&&(n=c+n),r=S.getInstance(),e.next=9,r.getJson(n);case 9:return l=e.sent,e.abrupt("return",l.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(n.useContext)(P).cloudContextList,t=Object(n.useState)([]),a=Object(_.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),o=Object(_.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)({key:"",direction:"ASC"}),m=Object(_.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(x.a.mark((function t(){var a,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(a=[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"},{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"},{labelName:"Costs",name:"field_costs",type:"key-value-crlf"},{labelName:"Resources",name:"field_resources",type:"key-value-crlf"}]).map((function(e){return{key:e.name,label:e.labelName}})),r(n),t.next=5,Ae(d);case 5:c=t.sent,s(K(c,a,e,{}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,d]),Object(Q.jsx)(_e,{dataColumnList:c,dataRecordList:i,sortInfo:d,setSortInfo:p})},Re=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(Te,{})]})})})},De=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],""!==t.key&&a.push("ASC"===t.direction?{key:"sort",value:t.key}:{key:"sort",value:"-"+t.key}),n="/jsonapi/cloud_store/k8s_node_resource_store",a.length>0&&(n+="?"+a.map((function(e){return e.key+"="+e.value})).join("&")),null!==(c=window.localStorage.getItem("jsonapiServerUri"))&&(n=c+n),r=S.getInstance(),e.next=9,r.getJson(n);case 9:return l=e.sent,e.abrupt("return",l.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(n.useContext)(P).cloudContextList,t=Object(n.useState)([]),a=Object(_.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),o=Object(_.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)({key:"",direction:"ASC"}),m=Object(_.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(x.a.mark((function t(){var a,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(a=[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"},{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"},{labelName:"Resources",name:"field_resources",type:"key-value-crlf"}]).map((function(e){return{key:e.name,label:e.labelName}})),r(n),t.next=5,De(d);case 5:c=t.sent,s(K(c,a,e,{}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,d]),Object(Q.jsx)(_e,{dataColumnList:c,dataRecordList:i,sortInfo:d,setSortInfo:p})},Ue=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(Ee,{})]})})})},Ve=function(){var e=Object(O.a)(x.a.mark((function e(t){var a,n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],""!==t.key&&a.push("ASC"===t.direction?{key:"sort",value:t.key}:{key:"sort",value:"-"+t.key}),n="/jsonapi/cloud_store/k8s_pod_resource_store",a.length>0&&(n+="?"+a.map((function(e){return e.key+"="+e.value})).join("&")),null!==(c=window.localStorage.getItem("jsonapiServerUri"))&&(n=c+n),r=S.getInstance(),e.next=9,r.getJson(n);case 9:return l=e.sent,e.abrupt("return",l.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(n.useContext)(P).cloudContextList,t=Object(n.useState)([]),a=Object(_.a)(t,2),c=a[0],r=a[1],l=Object(n.useState)([]),o=Object(_.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)({key:"",direction:"ASC"}),m=Object(_.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){(function(){var t=Object(O.a)(x.a.mark((function t(){var a,n,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(a=[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"},{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"},{labelName:"Resources",name:"field_resources",type:"key-value-crlf"}]).map((function(e){return{key:e.name,label:e.labelName}})),r(n),t.next=5,Ve(d);case 5:c=t.sent,s(K(c,a,e,{}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,d]),Object(Q.jsx)(_e,{dataColumnList:c,dataRecordList:i,sortInfo:d,setSortInfo:p})},Fe=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(ze,{})]})})})},Me=function(e){switch(e.cloudServiceProvider){case"aws_cloud":return"ALL"!==e.name?y:[{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"}].concat(Object(o.a)(y));case"k8s":return"ALL"!==e.name?v:[{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"}].concat(Object(o.a)(v))}},Je=function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r,l,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],"ALL"!==t.name&&n.push({key:"filter[cloud_context]",value:t.name}),""!==a.key&&n.push("ASC"===a.direction?{key:"sort",value:a.key}:{key:"sort",value:"-"+a.key}),c="/jsonapi/cloud_launch_template/".concat(t.cloudServiceProvider),n.length>0&&(c+="?"+n.map((function(e){return e.key+"="+e.value})).join("&")),null!==(r=window.localStorage.getItem("jsonapiServerUri"))&&(c=r+c),l=S.getInstance(),e.next=10,l.getJson(c);case 10:return o=e.sent,e.abrupt("return",o.data);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ke=function(e){var t=e.cloudContext,a=Object(n.useContext)(P).cloudContextList,c=Object(n.useState)([]),r=Object(_.a)(c,2),l=r[0],o=r[1],i=Object(n.useState)([]),s=Object(_.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({key:"",direction:"ASC"}),p=Object(_.a)(d,2),b=p[0],f=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var n,c,r,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Me(t),c=n.map((function(e){return{key:e.name,label:e.labelName}})),o(c),e.next=5,J(n);case 5:return r=e.sent,e.next=8,Je(t,b);case 8:l=e.sent,m(K(l,n,a,r));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,b]),Object(Q.jsx)(_e,{dataColumnList:l,dataRecordList:u,sortInfo:b,setSortInfo:f})},Ge=function(e){var t=e.cloudContext;return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(re,{}),Object(Q.jsx)(Ke,{cloudContext:t})]})})})},qe=function(){var e=Object(n.useState)(""),t=Object(_.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(""),l=Object(_.a)(r,2),o=l[0],i=l[1],s=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem("jsonapiServerUri"),e.next=3,fetch("/clouds/cloud_dashboard/config/client_id");case 3:return t=e.sent,e.next=6,fetch("/clouds/cloud_dashboard/config/callback_uri");case 6:if(a=e.sent,!t.ok||!a.ok){e.next=18;break}return e.t0=c,e.next=11,t.json();case 11:return e.t1=e.sent.id,(0,e.t0)(e.t1),e.t2=i,e.next=16,a.json();case 16:e.t3=e.sent.uri,(0,e.t2)(e.t3);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),Object(Q.jsx)("form",{children:Object(Q.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){var e="/oauth/authorize?response_type=code&client_id=".concat(a,"&redirect_uri=").concat(o);window.location.href=e},disabled:""===a,children:"Log in"})})},Ye=function(){return Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsx)(qe,{})})})})},Be=function(e){switch(e.cloudServiceProvider){case"aws_cloud":return[];case"k8s":return"ALL"!==e.name?N:[{labelName:"Cloud Service Provider ID",name:"cloud_context",type:"default"}].concat(Object(o.a)(N))}},He=function(){var e=Object(O.a)(x.a.mark((function e(t,a){var n,c,r,l,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],"ALL"!==t.name&&n.push({key:"filter[cloud_context]",value:t.name}),""!==a.key&&n.push("ASC"===a.direction?{key:"sort",value:a.key}:{key:"sort",value:"-"+a.key}),c="/jsonapi/cloud_project/".concat(t.cloudServiceProvider),n.length>0&&(c+="?"+n.map((function(e){return e.key+"="+e.value})).join("&")),null!==(r=window.localStorage.getItem("jsonapiServerUri"))&&(c=r+c),l=S.getInstance(),e.next=10,l.getJson(c);case 10:return o=e.sent,e.abrupt("return",o.data);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ze=function(e){var t=e.cloudContext,a=Object(n.useContext)(P).cloudContextList,c=Object(n.useState)([]),r=Object(_.a)(c,2),l=r[0],o=r[1],i=Object(n.useState)([]),s=Object(_.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({key:"",direction:"ASC"}),p=Object(_.a)(d,2),b=p[0],f=p[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){var n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Be(t),c=n.map((function(e){return{key:e.name,label:e.labelName}})),o(c),e.next=5,He(t,b);case 5:r=e.sent,m(K(r,n,a,{}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,b]),Object(Q.jsx)(_e,{dataColumnList:l,dataRecordList:u,sortInfo:b,setSortInfo:f})},$e=function(e){var t=e.cloudContext;return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(re,{}),Object(Q.jsx)("div",{className:"container-fluid px-0",children:Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsx)(Ze,{cloudContext:t})})})})]})},We=a(81),Qe=a(78),Xe=function(e){return e.map((function(e){return[e[1],e[0]]}))},et={fillColor:"#ddc",fillOpacity:1,color:"#ddc",opacity:1,weight:1},tt=function(e){var t=e.coordinates;return Object(Q.jsx)(Q.Fragment,{children:t.map((function(e,t){return Object(Q.jsx)(Qe.a,{pathOptions:et,positions:Xe(e)},t)}))})},at=function(e){var t=e.feature;return"Polygon"===t.geometry.type?Object(Q.jsx)(tt,{coordinates:t.geometry.coordinates}):Object(Q.jsx)(Q.Fragment,{children:t.geometry.coordinates.map((function(e,t){return Object(Q.jsx)(tt,{coordinates:e},t)}))})},nt=function(e){var t=e.mapData;return Object(Q.jsx)(Q.Fragment,{children:t.features.map((function(e,t){return Object(Q.jsx)(at,{feature:e},t)}))})},ct=a(79),rt=a(80),lt=function(e){var t=e.cloudServiceProvider,a=e.label,c=Object(n.useContext)(P),r=c.cloudContextList,l=c.dispatch,o=function(e){var a=r.filter((function(a){return a.cloudServiceProvider===t&&a.labelName===e}));a.length>=1&&l({type:"setCloudContext",message:a[0]})};return Object(Q.jsxs)("div",{children:[Object(Q.jsx)("div",{children:Object(Q.jsx)(i.b,{to:a.entityViewUrl,target:"_blank",rel:"noreferrer",onClick:function(){o(a.name)},children:Object(Q.jsx)("img",{src:a.iconUrl,alt:a.name})})}),Object(Q.jsxs)("div",{children:[Object(Q.jsx)("strong",{children:Object(Q.jsx)(i.b,{to:a.entityViewUrl,target:"_blank",rel:"noreferrer",onClick:function(){o(a.name)},children:a.name})}),Object(Q.jsx)("br",{}),Object(Q.jsxs)("span",{className:"location",children:[Object(Q.jsx)("span",{className:"glyphicon glyphicon-map-marker"}),a.positionLabel]})]})]})},ot=function(e){var t=e.item;return Object(Q.jsx)(ct.a,{position:t.position,icon:t.icon,children:Object(Q.jsx)(rt.a,{children:t.item.map((function(e,a){return Object(Q.jsx)(lt,{cloudServiceProvider:t.cloudServiceProvider,label:e},a)}))})})},it=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a,n,c,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/clouds/cloud_dashboard/config/marker_icon_uri");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",[]);case 5:return e.next=7,t.json();case 7:return a=e.sent,n=a.uri,e.next=11,G();case 11:return c=e.sent,r=q(c,n),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),st=function(){var e=Object(O.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/clouds/cloud_dashboard/config/map_geojson_uri");case 2:if((t=e.sent).ok){e.next=5;break}return e.abrupt("return",{features:[]});case 5:return e.next=7,t.json();case 7:return a=e.sent,e.next=10,S.getInstance().getJson(a.uri);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ut=function(){var e=Object(n.useState)([]),t=Object(_.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)({features:[]}),l=Object(_.a)(r,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){(function(){var e=Object(O.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,it();case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=i,e.next=8,st();case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(Q.jsxs)(We.a,{center:[0,0],zoom:2,scrollWheelZoom:!1,style:{height:500,backgroundColor:"#4e5d6c"},children:[Object(Q.jsx)(nt,{mapData:o}),a.map((function(e,t){return Object(Q.jsx)(ot,{item:e},t)}))]})},mt=a(26),dt=a(19),pt=[{key:"en",value:"English"},{key:"ja",value:"\u65e5\u672c\u8a9e"}];mt.a.use(dt.e).init({resources:{en:{translation:{Language:"Language",CloudConfig:"Cloud Config",languageName:"English",Home:"Home",User:"User",Logout:"Logout",ItemCount:"Item Count",All:"All"}},ja:{translation:{Language:"\u4f7f\u7528\u8a00\u8a9e",CloudConfig:"\u7ba1\u7406",languageName:"\u65e5\u672c\u8a9e",Home:"\u30db\u30fc\u30e0",User:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831",Logout:"\u30ed\u30b0\u30a2\u30a6\u30c8",ItemCount:"\u4ef6\u6570",All:"\u3059\u3079\u3066"}}},lng:"en",interpolation:{escapeValue:!1}});mt.a;var bt=function(e){var t=e.disabled,a=e.onClick,n=e.children;return Object(Q.jsx)("button",{type:"button",className:"btn btn-default",disabled:t,onClick:a,children:n})},ft=function(e){var t=e.buttonList;return Object(Q.jsx)("div",{className:"btn-group",role:"group",children:t.map((function(e,t){return Object(Q.jsx)(bt,{disabled:e.disabled,onClick:e.onClick,children:e.value},t)}))})},jt=function(){var e=Object(n.useContext)(P).dispatch,t=Object(w.a)(),a=t.t,c=t.i18n;return Object(Q.jsx)("form",{children:Object(Q.jsxs)("div",{className:"form-group",style:{marginTop:"2rem"},children:[Object(Q.jsx)(be,{children:a("Language")}),Object(Q.jsx)("br",{}),Object(Q.jsx)(ft,{buttonList:pt.map((function(t){return{disabled:c.language===t.key,onClick:function(){e({type:"setLanguage",message:t.key})},value:t.value}}))})]})})},yt=function(){var e=Object(n.useContext)(P).cloudContextList,t=Object(n.useState)({key:"",direction:"ASC"}),a=Object(_.a)(t,2),c=a[0],r=a[1];return Object(Q.jsxs)("form",{children:[Object(Q.jsx)("div",{className:"form-group",style:{marginTop:"2rem"},children:Object(Q.jsx)(be,{children:"Cloud Service Providers"})}),Object(Q.jsx)(_e,{dataColumnList:[{key:"labelName",label:"Name"}],dataRecordList:e.sort((function(e,t){var a=e.labelName,n=t.labelName;return"ASC"===c.direction?a>n?1:-1:a>n?-1:1})).filter((function(e){return"ALL"!==e.name})).map((function(e){return{id:"".concat(e.cloudServiceProvider,"_").concat(e.name),value:{labelName:e.labelName}}})),sortInfo:c,setSortInfo:r})]})},vt=function(){return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(re,{}),Object(Q.jsxs)("div",{className:"container-fluid px-0",children:[Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsx)("div",{className:"col",children:Object(Q.jsx)(ut,{})})}),Object(Q.jsx)("div",{className:"row mx-0",children:Object(Q.jsxs)("div",{className:"col",children:[Object(Q.jsx)(jt,{}),Object(Q.jsx)(yt,{})]})})]})]})},Nt=(a(74),a(75),a(76),function(){var e=I();return Object(Q.jsx)(i.a,{basename:m,children:Object(Q.jsxs)(s.c,{children:[Object(Q.jsx)(s.a,{exact:!0,path:"/",children:Object(Q.jsx)(Ye,{})}),Object(Q.jsx)(s.a,{path:"/callback",children:Object(Q.jsx)(te,{})}),Object(Q.jsxs)(P.Provider,{value:e,children:[Object(Q.jsx)(s.a,{path:"/providers",children:Object(Q.jsx)(vt,{})}),[].concat(Object(o.a)(b),Object(o.a)(f)).map((function(e){return Object(Q.jsx)(s.a,{exact:!0,path:"/".concat(e.cloudServiceProvider,"/").concat(e.entityName,"/:uuid"),children:Object(Q.jsx)(ue,{entityInfoTemplate:e})},"/".concat(e.cloudServiceProvider,"/").concat(e.entityName))})),[].concat(Object(o.a)(d),Object(o.a)(p)).map((function(e){return Object(Q.jsx)(s.a,{exact:!0,path:U(e),children:Object(Q.jsx)(we,{menuTemplate:e})},V(e))})),e.cloudContextList.map((function(e){return Object(Q.jsx)(s.a,{path:M(e),children:Object(Q.jsx)(Ge,{cloudContext:e})},e.labelName)})),e.cloudContextList.filter((function(e){return"k8s"===e.cloudServiceProvider})).map((function(e){return Object(Q.jsx)(s.a,{path:Z(e),children:Object(Q.jsx)($e,{cloudContext:e})},e.labelName)})),Object(Q.jsx)(s.a,{path:"/k8s_cost_store",children:Object(Q.jsx)(Le,{})}),Object(Q.jsx)(s.a,{path:"/k8s_namespace_resource_store",children:Object(Q.jsx)(Re,{})}),Object(Q.jsx)(s.a,{path:"/k8s_node_resource_store",children:Object(Q.jsx)(Ue,{})}),Object(Q.jsx)(s.a,{path:"/k8s_pod_resource_store",children:Object(Q.jsx)(Fe,{})})]})]})})}),ht=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),r(e),l(e)}))};l.a.render(Object(Q.jsx)(c.a.StrictMode,{children:Object(Q.jsx)(Nt,{})}),document.getElementById("root")),ht()}},[[77,1,2]]]);
//# sourceMappingURL=main.fca1da81.chunk.js.map