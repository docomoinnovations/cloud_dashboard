(this.webpackJsonpcloud_dashboard=this.webpackJsonpcloud_dashboard||[]).push([[0],{37:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),c=t(22),m=t.n(c),o=t(20),s=t(13),r=t(2),u="/clouds/dashboard",i=[{type:"aws_cloud",name:"Instance",url:"/aws_cloud/instance",entityTypeId:"aws_cloud_instance",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Public IP",name:"public_ip",type:"default"},{labelName:"Instance State",name:"instance_state",type:"default"},{labelName:"Instance Type",name:"instance_type",type:"default"},{labelName:"Availability Zone",name:"availability_zone",type:"default"},{labelName:"Cost",name:"cost",type:"cost"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Image",url:"/aws_cloud/image",entityTypeId:"aws_cloud_image",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"AMI Name",name:"ami_name",type:"default"},{labelName:"AMI ID",name:"image_id",type:"default"},{labelName:"Status",name:"status",type:"default"},{labelName:"Source",name:"source",type:"default"},{labelName:"Root Device Type",name:"root_device_type",type:"default"},{labelName:"Visibility",name:"visibility",type:"boolean",value:["Public","Private"]},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Security Group",url:"/aws_cloud/security_group",entityTypeId:"aws_cloud_security_group",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Group ID",name:"group_id",type:"default"},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}}]},{type:"aws_cloud",name:"Elastic IP",url:"/aws_cloud/elastic_ip",entityTypeId:"aws_cloud_elastic_ip",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Allocation ID",name:"allocation_id",type:"default"},{labelName:"Type",name:"elastic_ip_type",type:"default"},{labelName:"Elastic IP",name:"public_ip",type:"default"},{labelName:"Instance ID",name:"instance_id",type:"join",info:{entityTypeId:"aws_cloud_instance",keyColumn:"instance_id",valueColumn:"name"}},{labelName:"Private IP Address",name:"private_ip_address",type:"default"},{labelName:"Scope",name:"scope",type:"default"}]},{type:"aws_cloud",name:"Key Pair",url:"/aws_cloud/key_pair",entityTypeId:"aws_cloud_key_pair",column:[{labelName:"Key Pair Name",name:"key_pair_name",type:"default"},{labelName:"Key Fingerprint",name:"key_fingerprint",type:"default"}]},{type:"aws_cloud",name:"Volume",url:"/aws_cloud/volume",entityTypeId:"aws_cloud_volume",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Volume ID",name:"volume_id",type:"default"},{labelName:"IOPS",name:"iops",type:"default"},{labelName:"Size",name:"size",type:"default"},{labelName:"Availability Zone",name:"availability_zone",type:"default"},{labelName:"Volume Type",name:"volume_type",type:"default"},{labelName:"Attachment Information",name:"attachment_information",type:"join",info:{entityTypeId:"aws_cloud_instance",keyColumn:"instance_id",valueColumn:"name"}},{labelName:"State",name:"state",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Snapshot",url:"/aws_cloud/snapshot",entityTypeId:"aws_cloud_snapshot",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Snapshot ID",name:"snapshot_id",type:"default"},{labelName:"Encrypted",name:"encrypted",type:"default"},{labelName:"Size",name:"size",type:"default"},{labelName:"Status",name:"status",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Network Interface",url:"/aws_cloud/network_interface",entityTypeId:"aws_cloud_network_interface",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Subnet",name:"subnet_id",type:"join",info:{entityTypeId:"aws_cloud_subnet",keyColumn:"subnet_id",valueColumn:"name"}},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Status",name:"status",type:"default"},{labelName:"Security Groups",name:"security_groups",type:"default"},{labelName:"Primary Private IP",name:"primary_private_ip",type:"default"},{labelName:"Secondary Private IPs",name:"secondary_private_ips",type:"default"}]},{type:"aws_cloud",name:"VPC",url:"/aws_cloud/vpc",entityTypeId:"aws_cloud_vpc",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"VPC",name:"vpc_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"IPv4 CIDR",name:"cidr_block",type:"default"},{labelName:"IPv6 CIDR",name:"ipv6_cidr_blocks",type:"array"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Subnet",url:"/aws_cloud/subnet",entityTypeId:"aws_cloud_subnet",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Subnet ID",name:"subnet_id",type:"default"},{labelName:"VPC",name:"vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"IPv4 CIDR",name:"cidr_block",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Region Name",name:"region_name",type:"default"},{labelName:"Zone Name",name:"zone_name",type:"default"},{labelName:"Network Border Group",name:"network_border_group",type:"default"},{labelName:"Zone Type",name:"zone_type",type:"default"},{labelName:"Parent Zone Type",name:"parent_zone_type",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"VPC Peering Connection",url:"/aws_cloud/vpc_peering_connection",entityTypeId:"aws_cloud_vpc_peering_connection",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"VPC Peering Connection ID",name:"vpc_peering_connection_id",type:"default"},{labelName:"Status",name:"status_code",type:"default"},{labelName:"Requester VPC",name:"requester_vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Accepter VPC",name:"accepter_vpc_id",type:"join",info:{entityTypeId:"aws_cloud_vpc",keyColumn:"vpc_id",valueColumn:"name"}},{labelName:"Requester CIDR Blocks",name:"requester_cidr_block",type:"default"},{labelName:"Accepter CIDR Blocks",name:"accepter_cidr_block",type:"default"},{labelName:"Requester AWS Account",name:"requester_account_id",type:"default"},{labelName:"Accepter AWS Account",name:"accepter_account_id",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"aws_cloud",name:"Internet Gateway",url:"/aws_cloud/internet_gateway",entityTypeId:"aws_cloud_internet_gateway",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Internet Gateway ID",name:"internet_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"VPC ID",name:"vpc_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]},{type:"aws_cloud",name:"Career Gateway",url:"/aws_cloud/career_gateway",entityTypeId:"aws_cloud_career_gateway",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Carrier Gateway ID",name:"carrier_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"VPC ID",name:"vpc_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]},{type:"aws_cloud",name:"Transit Gateway",url:"/aws_cloud/transit_gateway",entityTypeId:"aws_cloud_transit_gateway",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Transit Gateway ID",name:"transit_gateway_id",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Amazon Account ID",name:"account_id",type:"default"},{labelName:"Created",name:"created",type:"default"}]}],d=[{type:"k8s",name:"Node",url:"/k8s/node",entityTypeId:"k8s_node",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"CPU (Request)",name:"cpu_request",type:"default"},{labelName:"CPU (Limit)",name:"cpu_limit",type:"default"},{labelName:"CPU (Usage)",name:"cpu_usage",type:"default"},{labelName:"Memory (Request)",name:"memory_request",type:"memory"},{labelName:"Memory (Limit)",name:"memory_limit",type:"memory"},{labelName:"Memory (Usage)",name:"memory_usage",type:"memory"},{labelName:"Pods (Applcation)",name:"pods_allocation",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Namespace",url:"/k8s/namespace",entityTypeId:"k8s_namespace",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Deployment",url:"/k8s/deployment",entityTypeId:"k8s_deployment",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Pod",url:"/k8s/pod",entityTypeId:"k8s_pod",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Node",name:"node_name",type:"default"},{labelName:"State",name:"status",type:"default"},{labelName:"Restarts",name:"restarts",type:"default"},{labelName:"CPU (Usage)",name:"cpu_usage",type:"default"},{labelName:"Memory (Usage)",name:"memory_usage",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"ReplicaSet",url:"/k8s/replica_set",entityTypeId:"k8s_replica_set",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Replica",name:"replicas",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"CronJob",url:"/k8s/cron_job",entityTypeId:"k8s_cron_job",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Schedule",name:"schedule",type:"default"},{labelName:"Suspend",name:"suspend",type:"default"},{labelName:"Active",name:"active",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Job",url:"/k8s/job",entityTypeId:"k8s_job",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Image",name:"image",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Service",url:"/k8s/service",entityTypeId:"k8s_service",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Cluster IP",name:"cluster_ip",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Network Policy",url:"/k8s/network_policy",entityTypeId:"k8s_network_policy",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Resource Quotas",url:"/k8s/resource_quota",entityTypeId:"k8s_resource_quota",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"LimitRange",url:"/k8s/limit_range",entityTypeId:"k8s_limit_range",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Priority Class",url:"/k8s/priority_class",entityTypeId:"k8s_priority_class",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Value",name:"value",type:"default"},{labelName:"Global Default",name:"global_default",type:"boolean",value:["TRUE","FALSE"]},{labelName:"Description",name:"description",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"ConfigMap",url:"/k8s/config_map",entityTypeId:"k8s_config_map",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Secret",url:"/k8s/secret",entityTypeId:"k8s_secret",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Type",name:"secret_type",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Role",url:"/k8s/role",entityTypeId:"k8s_role",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Role Binding",url:"/k8s/role_binding",entityTypeId:"k8s_role_binding",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Role",name:"role_ref",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Cluster Role",url:"/k8s/cluster_role",entityTypeId:"k8s_cluster_role",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Cluster Role Binding",url:"/k8s/cluster_role_binding",entityTypeId:"k8s_cluster_role_binding",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Cluster Role",name:"role_ref",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Persistent Volume",url:"/k8s/persistent_volume",entityTypeId:"k8s_persistent_volume",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Capacity",name:"capacity",type:"default"},{labelName:"Access Modes",name:"access_modes",type:"default"},{labelName:"Reclaim Policy",name:"reclaim_policy",type:"default"},{labelName:"Status",name:"phase",type:"default"},{labelName:"Request",name:"claim_ref",type:"default"},{labelName:"Storage Class",name:"storage_class_name",type:"default"},{labelName:"Reason",name:"reason",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Persistent Volume Claim",url:"/k8s/persistent_volume_claim",entityTypeId:"k8s_persistent_volume_claim",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Phase",name:"phase",type:"default"},{labelName:"VolumeName",name:"volume_name",type:"default"},{labelName:"Capacity",name:"capacity",type:"default"},{labelName:"Request",name:"request",type:"default"},{labelName:"Access Mode",name:"access_mode",type:"default"},{labelName:"Storage Class",name:"storage_class",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Storage Class",url:"/k8s/storage_class",entityTypeId:"k8s_storage_class",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Provisioner",name:"provisioner",type:"default"},{labelName:"Parameters",name:"parameters",type:"key-value"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"StatefulSet",url:"/k8s/stateful_set",entityTypeId:"k8s_stateful_set",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Ingress",url:"/k8s/ingress",entityTypeId:"k8s_ingress",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"DaemonSet",url:"/k8s/daemon_set",entityTypeId:"k8s_daemon_set",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Endpoint",url:"/k8s/endpoint",entityTypeId:"k8s_endpoint",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Node",name:"node_name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Event",url:"/k8s/event",entityTypeId:"k8s_event",column:[{labelName:"Type",name:"k8s_event_type",type:"default"},{labelName:"Reason",name:"reason",type:"default"},{labelName:"Object Kind",name:"object_kind",type:"default"},{labelName:"Object Name",name:"object_name",type:"default"},{labelName:"Message",name:"message",type:"default"},{labelName:"Last Time Stamp",name:"time_stamp",type:"datetime"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"API Service",url:"/k8s/api_service",entityTypeId:"k8s_api_service",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"ServiceAccount",url:"/k8s/service_account",entityTypeId:"k8s_service_account",column:[{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Name",name:"name",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]},{type:"k8s",name:"Horizontal Pod Autoscaler",url:"/k8s/horizontal_pod_autoscaler",entityTypeId:"k8s_horizontal_pod_autoscaler",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Namespace",name:"namespace",type:"default"},{labelName:"Scale Target",name:"scale_target",type:"default"},{labelName:"Target CPU Utilization Percentage",name:"target_cpu_utilization_percentage",type:"default"}]},{type:"k8s",name:"Schedule",url:"/k8s/schedule",entityTypeId:"k8s_schedule",column:[{labelName:"Name",name:"name",type:"default"},{labelName:"Kind",name:"kind",type:"default"},{labelName:"Namespace Name",name:"namespace_name",type:"default"},{labelName:"Resource Name",name:"resource_name",type:"default"},{labelName:"Launch Template Name",name:"launch_template_name",type:"default"},{labelName:"State",name:"state",type:"default"},{labelName:"Start",name:"start_time",type:"default"},{labelName:"Stop",name:"stop_time",type:"default"},{labelName:"Created",name:"created",type:"datetime"}]}],p=t(7),y=t.n(p),b=t(9),f=t(0),N=function(){var e=function(){var e=Object(b.a)(y.a.mark((function e(a,t,n){var l,c,m,o,s,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=new FormData).append("grant_type","authorization_code"),l.append("client_id",t),l.append("client_secret","cloud_dashboard"),l.append("code",a),l.append("redirect_uri",n),e.next=8,fetch("/oauth/token",{method:"POST",body:l});case 8:if((c=e.sent).ok){e.next=11;break}throw new Error("Authorization failed");case 11:return e.next=13,c.json();case 13:if(!("access_token"in(m=e.sent))){e.next=23;break}o=m.access_token,s=m.refresh_token,r=(new Date).getTime()+1e3*m.expires_in,window.localStorage.setItem("accessToken",o),window.localStorage.setItem("refreshToken",s),window.localStorage.setItem("expiresDatetime","".concat(r)),e.next=24;break;case 23:throw new Error("Authorization failed");case 24:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){console.group("Authorization Code Grant");var a=window.localStorage.getItem("clientId"),t=window.localStorage.getItem("redirectUri");if(null===a||null==t)return console.log("Client ID : No"),console.error("Authorization failed."),console.groupEnd(),void(window.location.href=u);console.log("Client ID : Yes");var n=new URL(window.location.href).searchParams.get("code");if(null===n)return console.log("Authorization code : No"),console.error("Authorization failed."),console.groupEnd(),void(window.location.href=u);console.log("authorization code : Yes"),e(n,a,t).then((function(){console.log("Access token : Yes"),console.groupEnd(),window.location.href=u+"/aws_cloud/instance"})).catch((function(){console.log("Access token : No"),console.error("Authorization failed."),console.groupEnd(),window.location.href=u}))}),[]),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("h2",{children:"Please waiting..."})})})},_=t(4),j=function(){var e=Object(n.useState)(""),a=Object(_.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(""),m=Object(_.a)(c,2),o=m[0],s=m[1],r=function(){var e=Object(b.a)(y.a.mark((function e(){var a,t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/jsonapi/consumer/consumer");case 2:return e.next=4,e.sent.json();case 4:a=e.sent,(t=a.data.filter((function(e){return"Cloud Dashboard"===e.attributes.label}))).length>=1&&(l(t[0].id),s(t[0].attributes.redirect));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(n.useEffect)((function(){window.localStorage.setItem("clientId",t)}),[t]),Object(n.useEffect)((function(){window.localStorage.setItem("redirectUri",o)}),[o]),Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col",children:Object(f.jsx)("form",{children:Object(f.jsx)("button",{type:"button",className:"btn btn-default",onClick:function(){var e="/oauth/authorize?response_type=code&client_id=".concat(t,"&redirect_uri=").concat(o);window.location.href=e},disabled:""===t,children:"login"})})})})},h=function(e){var a=e.menuType,t=e.menuName;Object(n.useEffect)((function(){var e=window.localStorage.getItem("accessToken"),a=window.localStorage.getItem("expiresDatetime");null!==e&&null!=a?(new Date).getTime()>parseInt(a,10)&&(window.location.href=u):window.location.href=u}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("ul",{className:"nav nav-tabs",children:[Object(f.jsx)("li",{role:"presentation",className:"aws_cloud"===a?"active":"",children:Object(f.jsx)(s.b,{to:"".concat(i[0].url),children:"AWS"})}),Object(f.jsx)("li",{role:"presentation",className:"k8s"===a?"active":"",children:Object(f.jsx)(s.b,{to:"".concat(d[0].url),children:"K8s"})})]}),Object(f.jsxs)("ul",{className:"nav nav-tabs",children:[("aws_cloud"===a?i:d).map((function(e){return Object(f.jsx)("li",{role:"presentation",className:e.name===t?"active":"",children:Object(f.jsx)(s.b,{to:"".concat(e.url),children:e.name})},e.name)})),Object(f.jsx)("li",{role:"presentation",children:Object(f.jsx)("a",{href:"#",onClick:function(){window.localStorage.removeItem("accessToken"),window.localStorage.removeItem("refreshToken"),window.localStorage.removeItem("expiresDatetime"),window.location.href=u},children:"logout"})})]})]})},k=t(24),v=t(25),g=function(){function e(){Object(k.a)(this,e),this.cache={}}return Object(v.a)(e,[{key:"getJson",value:function(){var e=Object(b.a)(y.a.mark((function e(a,t){var n,l,c,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a in this.cache)){e.next=5;break}if(n=this.cache[a],!((l=(new Date).getTime())>=n.unixtime&&l-n.unixtime<864e5)){e.next=5;break}return e.abrupt("return",n.response);case 5:return e.next=7,fetch(a,t);case 7:return e.next=9,e.sent.json();case 9:return c=e.sent,m=(new Date).getTime(),this.cache[a]={response:c,unixtime:m},e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return this.instance}}]),e}();g.instance=new g;var C=g,I=function(e){var a=e.cloudContext,t=e.setCloudContext,l=e.cloudConfigType,c=Object(n.useState)([]),m=Object(_.a)(c,2),o=m[0],s=m[1];return Object(n.useEffect)((function(){C.getInstance().getJson("/jsonapi/cloud_config/".concat(l)).then((function(e){var n=e.data.map((function(e){return e.attributes.cloud_context}));s(n),!n.includes(a)&&n.length>=1&&t(n[0])}))}),[]),Object(f.jsx)("select",{className:"form-select form-control",value:a,onChange:function(e){t(e.currentTarget.value)},children:o.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))})},w=t(11),x=function(e,a){return"000000".concat(e).slice(-a)},O=function(e,a){for(var t=1,n=0;n<a;n+=1)t*=10;if(Math.floor(e)!==e)return"".concat(Math.round(e*t)/t);var l="".concat(e);if(0!==a){l+=".";for(var c=0;c<a;c+=1)l+="0"}return l},T=function(e,a,t){if(null===e)return"";switch(a.type){case"datetime":return function(e){var a=new Date(e),t=a.getFullYear(),n=a.getMonth()+1,l=a.getDate(),c=a.getHours(),m=a.getMinutes(),o="".concat(t,"/").concat(x(n,2),"/").concat(x(l,2));return o+" - ".concat(x(c,2),":").concat(x(m,2))}(e);case"memory":return e>=1073741824?"".concat(O(e/1073741824,2),"Gi"):e>=1048576?"".concat(O(e/1048576,2),"Mi"):e>=1024?"".concat(O(e/1024,2),"Ki"):O(e,2);case"key-value":var n,l=[],c=Object(w.a)(e);try{for(c.s();!(n=c.n()).done;){var m=n.value;l.push("".concat(m.item_key,":").concat(m.item_value))}}catch(u){c.e(u)}finally{c.f()}return l.join(", ");case"cost":return"$".concat(e);case"boolean":return e?a.value[0]:a.value[1];case"array":return e.map((function(e){return"".concat(e)})).join(", ");case"join":var o,s=Object(w.a)(t[a.info.entityTypeId]);try{for(s.s();!(o=s.n()).done;){var r=o.value;if(r.attributes[a.info.keyColumn]===e)return r.attributes[a.info.valueColumn]}}catch(u){s.e(u)}finally{s.f()}return"(".concat(e,")");default:return e}},S=function(e){var a=e.entityTypeId,t=e.column,l=e.cloudContext,c=e.namespace,m=e.namespaceName,o=e.sortInfo,s=e.setSortInfo,r=e.pageIndex,u=Object(n.useState)([]),i=Object(_.a)(u,2),d=i[0],p=i[1],N=Object(n.useState)([]),j=Object(_.a)(N,2),h=j[0],k=j[1];return Object(n.useEffect)((function(){var e="/jsonapi/".concat(a,"/").concat(a),t=[];t.push({key:"page[limit]",value:"".concat(30)}),t.push({key:"page[offset]",value:"".concat(30*r)}),""!==c&&t.push({key:"filter[namespace]",value:c}),""!==m&&t.push({key:"filter[namespace_name]",value:m}),""!==l&&t.push({key:"filter[cloud_context]",value:l}),""!==o.key&&t.push("ASC"===o.direction?{key:"sort",value:o.key}:{key:"sort",value:"-"+o.key}),t.length>0&&(e+="?"+t.map((function(e){return e.key+"="+e.value})).join("&")),C.getInstance().getJson(e).then((function(e){p(e.data)}))}),[c,m,l,o,r]),Object(n.useEffect)((function(){(function(){var e=Object(b.a)(y.a.mark((function e(){var a,n,l,c,m,o,s,r,u,i,p,b,f;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},n=Object(w.a)(t),e.prev=2,n.s();case 4:if((l=n.n()).done){e.next=13;break}if("join"!==(c=l.value).type||c.info.entityTypeId in a){e.next=11;break}return e.next=9,C.getInstance().getJson("/jsonapi/".concat(c.info.entityTypeId,"/").concat(c.info.entityTypeId));case 9:m=e.sent.data,a[c.info.entityTypeId]=m;case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:o=[],s=Object(w.a)(d);try{for(s.s();!(r=s.n()).done;){u=r.value,i={id:u.id,attributes:{}},p=Object(w.a)(t);try{for(p.s();!(b=p.n()).done;)f=b.value,i.attributes[f.name]=T(u.attributes[f.name],f,a)}catch(y){p.e(y)}finally{p.f()}o.push(i)}}catch(y){s.e(y)}finally{s.f()}k(o);case 25:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})));return function(){return e.apply(this,arguments)}})()()}),[d]),Object(f.jsxs)("table",{className:"table table-hover table-striped sticky-enabled sticky-table",children:[Object(f.jsxs)("thead",{children:[Object(f.jsx)("th",{children:Object(f.jsx)("input",{type:"checkbox",className:"form-checkbox",title:"\u3053\u306e\u30c6\u30fc\u30d6\u30eb\u306e\u3059\u3079\u3066\u306e\u5217\u3092\u9078\u629e\u3059\u308b"})}),t.map((function(e){return Object(f.jsxs)("th",{onClick:function(){return a=e.name,void(o.key===a?"ASC"!==o.direction?s({key:"",direction:"ASC"}):s({key:a,direction:"DESC"}):s({key:a,direction:"ASC"}));var a},children:[e.labelName,o.key===e.name&&"ASC"===o.direction?"\u2191":o.key===e.name&&"DESC"===o.direction?"\u2193":""]},e.name)}))]}),Object(f.jsx)("tbody",{children:h.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{children:Object(f.jsx)("input",{className:"form-checkbox",type:"checkbox"})}),t.map((function(a){return Object(f.jsx)("td",{children:e.attributes[a.name]},a.name)}))]},e.id)}))})]})},P=function(e){var a=e.cloudContext,t=e.columnKey,l=e.columnName,c=e.setColumnName,m=e.cloudConfigType,o=Object(n.useState)([]),s=Object(_.a)(o,2),r=s[0],u=s[1];return Object(n.useEffect)((function(){var e="/jsonapi/".concat(m,"_").concat(t,"/").concat(m,"_").concat(t);""!==a&&(e+="?cloudContext=".concat(a)),C.getInstance().getJson(e).then((function(e){u(e.data.map((function(e){return e.attributes.name})))}))}),[a]),Object(f.jsxs)("select",{className:"form-select form-control",value:l,onChange:function(e){c(e.currentTarget.value)},children:[Object(f.jsx)("option",{value:"",children:"- \u3059\u3079\u3066 -"}),r.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))]})},A=function(e){var a=e.cloudContext,t=e.entityTypeId,l=e.namespace,c=e.namespaceName,m=e.itemCount,o=e.setItemCount,s=e.cloudConfigType;return Object(n.useEffect)((function(){if(""===a)o(0);else{var e="/cloud_dashboard/".concat(s,"/").concat(a,"/").concat(t,"/entity/count");""!==l&&(e+="?namespace=".concat(l)),""!==c&&(e+="?namespace_name=".concat(c)),C.getInstance().getJson(e).then((function(e){o(e.count)}))}}),[a,l,c]),Object(f.jsxs)("label",{className:"control-label",children:["Item Count: ",m]})},D=function(e){var a=e.pageIndex,t=e.setPageIndex,n=e.itemCount,l=Math.floor(1*(n+30-1)/30);return Object(f.jsx)("nav",{children:Object(f.jsxs)("ul",{className:"pagination",children:[Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#","aria-label":"\u6700\u521d\u306e\u30da\u30fc\u30b8\u3078",onClick:function(){t(0)},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#","aria-label":"\u524d\u306e\u30da\u30fc\u30b8\u3078",onClick:function(){t(Math.max(0,a-1))},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\uff1c"})})}),Object(f.jsx)("li",{children:Object(f.jsx)("a",{href:"#",children:a+1})}),Object(f.jsx)("li",{className:a!==l-1?"":"disabled",children:Object(f.jsx)("a",{href:"#","aria-label":"\u6b21\u306e\u30da\u30fc\u30b8\u3078",onClick:function(){t(Math.min(a+1,l-1))},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\uff1e"})})}),Object(f.jsx)("li",{className:0!==n&&a!==l-1?"":"disabled",children:Object(f.jsx)("a",{href:"#","aria-label":"\u6700\u5f8c\u306e\u30da\u30fc\u30b8\u3078",onClick:function(){t(l-1)},children:Object(f.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})},R=function(e){var a=e.entityTypeId,t=e.column,l=e.cloudConfigType,c=Object(n.useState)(""),m=Object(_.a)(c,2),o=m[0],s=m[1],r=Object(n.useState)(""),u=Object(_.a)(r,2),i=u[0],d=u[1],p=Object(n.useState)(""),y=Object(_.a)(p,2),b=y[0],N=y[1],j=Object(n.useState)(0),h=Object(_.a)(j,2),k=h[0],v=h[1],g=Object(n.useState)({key:"",direction:"ASC"}),C=Object(_.a)(g,2),w=C[0],x=C[1],O=Object(n.useState)(0),T=Object(_.a)(O,2),R=T[0],E=T[1];Object(n.useEffect)((function(){""!==i&&N("")}),[i]),Object(n.useEffect)((function(){""!==b&&d("")}),[b]);var z=t.map((function(e){return e.labelName})).includes("Namespace"),M=t.map((function(e){return e.labelName})).includes("Namespace Name");return Object(f.jsx)("div",{className:"row",style:{marginTop:"2rem"},children:Object(f.jsx)("div",{className:"col",children:Object(f.jsxs)("form",{children:[Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"control-label",children:"Cloud context"}),Object(f.jsx)(I,{cloudContext:o,setCloudContext:s,cloudConfigType:l})]}),z?Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"control-label",children:"Namespace"}),Object(f.jsx)(P,{cloudContext:o,columnKey:"namespace",columnName:i,setColumnName:d,cloudConfigType:l})]}):Object(f.jsx)(f.Fragment,{}),M?Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{className:"control-label",children:"Namespace Name"}),Object(f.jsx)(P,{cloudContext:o,columnKey:"namespace_name",columnName:b,setColumnName:N,cloudConfigType:l})]}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)("div",{className:"form-group",children:Object(f.jsx)(A,{cloudContext:o,entityTypeId:a,namespace:i,namespaceName:b,itemCount:k,setItemCount:v,cloudConfigType:l})}),Object(f.jsx)("div",{className:"table-responsive",children:Object(f.jsx)(S,{entityTypeId:a,column:t,cloudContext:o,namespace:i,namespaceName:b,sortInfo:w,setSortInfo:x,pageIndex:R})}),Object(f.jsx)(D,{pageIndex:R,setPageIndex:E,itemCount:k})]})})})},E=function(){return Object(f.jsx)(s.a,{basename:u,children:Object(f.jsxs)(r.c,{children:[[].concat(Object(o.a)(i),Object(o.a)(d)).map((function(e){return Object(f.jsx)(r.a,{exact:!0,path:e.url,children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(h,{menuType:e.type,menuName:e.name}),Object(f.jsx)(R,{entityTypeId:e.entityTypeId,column:e.column,cloudConfigType:e.type})]})},e.name)})),Object(f.jsx)(r.a,{exact:!0,path:"/callback",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(N,{})})}),Object(f.jsx)(r.a,{exact:!0,path:"/",children:Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(j,{})})})]})})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,38)).then((function(a){var t=a.getCLS,n=a.getFID,l=a.getFCP,c=a.getLCP,m=a.getTTFB;t(e),n(e),l(e),c(e),m(e)}))};m.a.render(Object(f.jsx)(l.a.StrictMode,{children:Object(f.jsx)(E,{})}),document.getElementById("root")),z()}},[[37,1,2]]]);
//# sourceMappingURL=main.06796ab5.chunk.js.map